<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gamers World</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, sans-serif;
      background:#0d1117;
      color:#fff;
      margin:0;
      padding:0;
      overflow-x: hidden;
    }
    /* Splash Screen */
    #splash {
      position: fixed; top:0; left:0;
      width:100%; height:100%;
      background:#0d1117;
      display:flex; justify-content:center; align-items:center;
      flex-direction:column;
      z-index:9999;
      transition: opacity 1s ease;
    }
    #splash h1 {
      font-size: 3em;
      background: linear-gradient(90deg, #ff00cc, #3333ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: glow 2s infinite alternate;
    }
    @keyframes glow {
      from { text-shadow: 0 0 10px #ff00cc; }
      to { text-shadow: 0 0 20px #3333ff; }
    }

    /* Header */
    header {
      text-align:center;
      padding:20px;
      background:#161b22;
      box-shadow:0 2px 10px rgba(0,0,0,0.5);
    }
    header h1 {
      margin:0;
      font-size:2.5em;
      background: linear-gradient(90deg,#ff0080,#ff8c00,#40e0d0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    /* Grid of games */
    .grid {
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap:20px;
      padding:20px;
    }
    .card {
      background:#161b22;
      border-radius:15px;
      padding:20px;
      text-align:center;
      transition: transform 0.3s, box-shadow 0.3s;
      box-shadow:0 4px 12px rgba(0,0,0,0.4);
    }
    .card:hover {
      transform:translateY(-8px) scale(1.05);
      box-shadow:0 8px 20px rgba(0,0,0,0.7);
    }
    .card img {
      max-width:100px;
      max-height:100px;
      margin-bottom:10px;
    }
    .card h3 {
      margin:10px 0;
      font-size:1.2em;
    }
    .card button {
      padding:10px 15px;
      margin-top:10px;
      background: linear-gradient(90deg,#ff0080,#7928ca);
      border:none;
      border-radius:8px;
      color:#fff;
      cursor:pointer;
      transition: opacity 0.3s;
    }
    .card button:hover {
      opacity:0.85;
    }

    /* Game iframe modal */
    #gameFrame {
      display:none;
      position:fixed;
      top:0; left:0;
      width:100%; height:100%;
      background:rgba(0,0,0,0.9);
      z-index:10000;
      justify-content:center;
      align-items:center;
      flex-direction:column;
    }
    #gameFrame iframe {
      width:90%;
      height:80%;
      border:none;
      border-radius:12px;
      background:#000;
    }
    #closeBtn {
      position:absolute;
      top:20px; right:20px;
      padding:10px 15px;
      background:#ff0040;
      border:none;
      color:#fff;
      font-size:16px;
      border-radius:8px;
      cursor:pointer;
    }
  </style>
</head>
<body>
  <!-- Splash -->
  <div id="splash">
    <h1>ðŸŽ® Gamers World</h1>
  </div>

  <!-- Header -->
  <header>
    <h1>ðŸŽ® Gamers World</h1>
  </header>

  <!-- Game Grid -->
  <div class="grid" id="gameGrid"></div>

  <!-- Iframe container for playing games -->
  <div id="gameFrame">
    <button id="closeBtn">Close</button>
    <iframe id="iframeGame"
            sandbox="allow-same-origin allow-scripts allow-pointer-lock allow-forms"
            referrerpolicy="no-referrer"
    ></iframe>
  </div>

  <script>
    // CSV link (your published sheet)
    const sheetURL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRc0euwy4NR2SPAgQEZAjg2wuCfrrZagOkIVAJbc9MEiFJwE7EWzG_77xy5tI7BUQD71YAnzsIIy9lV/pub?output=csv";

    async function loadGames() {
      try {
        const response = await fetch(sheetURL);
        const data = await response.text();
        const rows = data.split("\n").slice(1); // skip header row
        let html = "";
        rows.forEach(row => {
          const [logo, name, link] = row.split(",");
          if (name && link) {
            html += `
              <div class="card">
                <img src="${logo}" alt="${name}">
                <h3>${name}</h3>
                <button onclick="openGame('${link}')">Play Now</button>
              </div>
            `;
          }
        });
        document.getElementById("gameGrid").innerHTML = html;
      } catch (err) {
        console.error("Error loading sheet:", err);
        document.getElementById("gameGrid").innerHTML = "<p style='color:red;'>Failed to load games.</p>";
      }
    }

    function openGame(link) {
      const iframe = document.getElementById("iframeGame");
      iframe.src = link;
      document.getElementById("gameFrame").style.display = "flex";
    }
    document.getElementById("closeBtn").onclick = () => {
      document.getElementById("iframeGame").src = "";
      document.getElementById("gameFrame").style.display = "none";
    };

    window.addEventListener("load", () => {
      setTimeout(() => {
        document.getElementById("splash").style.opacity = "0";
        setTimeout(() => { document.getElementById("splash").style.display = "none"; }, 1000);
      }, 2000);
      loadGames();
    });
  </script>
</body>
</html>